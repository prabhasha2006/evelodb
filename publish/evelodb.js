const _0x1c5fb7=_0x376e;function _0x1862(){const _0x403f8e=['encryption','forEach','readFileSync','\x20hex\x20characters','drop','concat','root','Duplicate\x20data\x20-\x20record\x20already\x20exists\x20(noRepeat\x20enabled)','3330103pLnVrB','384969NAINSj','autoPrimaryKey','Cannot\x20change\x20encryption\x20settings\x20while\x20encoding\x20is\x20not\x20JSON','647793qmZFwT','serialize','filter','entries','decodeData','noRepeat','traverse','bson','toString','reset','check','getFilePath','getAllFromBTree','basename','config','now','Item\x20is\x20missing\x20a\x20token:','816XvRxRe','includes','existsSync','isArray','rmdirSync','data\x20required!','some','findOne','Failed\x20to\x20convert\x20','stringify','json','slice','DUPLICATE_DATA','splice','search','message','token','No\x20matching\x20records\x20found','readFileData','670pxBaOz','object','get','insertNonFull','insert','21MTXfsf','join','encryptionKey','encode','btree','601780eHFnpj','\x20requires\x20','inject','substring','348QuPriy','Encryption\x20key\x20required\x20when\x20encryption\x20is\x20enabled','length','writeFileSync','utf8','encrypt','decrypt','match','\x20bytes)','Conditions\x20required','children','./encryption','order','extension','generateKey','map','119557zoZhSZ','writeFileData','find','Valid\x20data\x20object\x20required','Unsupported\x20encryption\x20algorithm:\x20','New\x20data\x20required','every','splitChild','random','directory','isLeaf','unlinkSync','push','__id','39635dktFEc','path','Collection\x20not\x20found','encodeData','mkdirSync','8TRnEjR','parse','toUpperCase','151107SyWUoU','error','extname','keys','generateUniqueId','collection\x20required!','8zqKrGD','floor','Collection\x20name\x20required','conditions\x20required!','readdirSync','tabspace'];_0x1862=function(){return _0x403f8e;};return _0x1862();}(function(_0x4e0a01,_0x298001){const _0x119116=_0x376e,_0x574d6f=_0x4e0a01();while(!![]){try{const _0x30d477=parseInt(_0x119116(0x248))/0x1*(-parseInt(_0x119116(0x1f4))/0x2)+-parseInt(_0x119116(0x22f))/0x3*(parseInt(_0x119116(0x234))/0x4)+-parseInt(_0x119116(0x256))/0x5*(-parseInt(_0x119116(0x238))/0x6)+parseInt(_0x119116(0x202))/0x7*(parseInt(_0x119116(0x25b))/0x8)+parseInt(_0x119116(0x206))/0x9+-parseInt(_0x119116(0x22a))/0xa*(parseInt(_0x119116(0x25e))/0xb)+-parseInt(_0x119116(0x217))/0xc*(-parseInt(_0x119116(0x203))/0xd);if(_0x30d477===_0x298001)break;else _0x574d6f['push'](_0x574d6f['shift']());}catch(_0x328837){_0x574d6f['push'](_0x574d6f['shift']());}}}(_0x1862,0x8b05a));function _0x376e(_0x558d39,_0x15355b){const _0x18628e=_0x1862();return _0x376e=function(_0x376e2a,_0x5dd19d){_0x376e2a=_0x376e2a-0x1f2;let _0x2489be=_0x18628e[_0x376e2a];return _0x2489be;},_0x376e(_0x558d39,_0x15355b);}const fs=require('fs'),{encrypt,decrypt,generateKey}=require(_0x1c5fb7(0x243)),{BSON,ObjectId}=require(_0x1c5fb7(0x20d)),defaultConfig={'directory':'./evelodatabase','extension':_0x1c5fb7(0x221),'tabspace':0x3,'encode':_0x1c5fb7(0x221),'encryption':null,'encryptionKey':null,'noRepeat':![],'autoPrimaryKey':!![]};function deepCompare(_0x599566,_0x352970){const _0x11c142=_0x1c5fb7;if(typeof _0x599566===_0x11c142(0x22b)&&typeof _0x352970==='object'){if(Array[_0x11c142(0x21a)](_0x599566)){if(!Array['isArray'](_0x352970))return![];if(_0x599566['length']!==_0x352970[_0x11c142(0x23a)])return![];for(let _0x38ec17=0x0;_0x38ec17<_0x599566[_0x11c142(0x23a)];_0x38ec17++){if(!deepCompare(_0x599566[_0x38ec17],_0x352970[_0x38ec17]))return![];}return!![];}else{const _0x29cb30=Object[_0x11c142(0x261)](_0x599566),_0x590ca8=Object[_0x11c142(0x261)](_0x352970);if(_0x29cb30[_0x11c142(0x23a)]!==_0x590ca8['length'])return![];for(let _0x4f78c7 of _0x29cb30){if(!deepCompare(_0x599566[_0x4f78c7],_0x352970[_0x4f78c7]))return![];}return!![];}}else return _0x599566===_0x352970;}class BTreeNode{constructor(_0x4e3194){const _0x306f0f=_0x1c5fb7;this[_0x306f0f(0x261)]=[],this['children']=[],this[_0x306f0f(0x252)]=_0x4e3194;}}class BTree{constructor(_0x39f20e){const _0x1fb12a=_0x1c5fb7;this['order']=_0x39f20e,this[_0x1fb12a(0x200)]=new BTreeNode(!![]);}[_0x1c5fb7(0x22e)](_0x33e140,_0x428d3d){const _0x236431=_0x1c5fb7;let _0x21a658=this[_0x236431(0x200)];if(_0x21a658[_0x236431(0x261)][_0x236431(0x23a)]===this['order']-0x1){let _0x48bc85=new BTreeNode(![]);_0x48bc85[_0x236431(0x242)][_0x236431(0x254)](_0x21a658),this[_0x236431(0x24f)](_0x48bc85,0x0),this['root']=_0x48bc85;}this[_0x236431(0x22d)](this[_0x236431(0x200)],[_0x33e140,_0x428d3d]);}[_0x1c5fb7(0x22d)](_0x2094ff,_0x525269){const _0x116d07=_0x1c5fb7;let _0x2194c2=_0x2094ff[_0x116d07(0x261)][_0x116d07(0x23a)]-0x1;if(_0x2094ff['isLeaf']){_0x2094ff[_0x116d07(0x261)]['push'](null);while(_0x2194c2>=0x0&&_0x525269[0x0]<_0x2094ff['keys'][_0x2194c2][0x0]){_0x2094ff[_0x116d07(0x261)][_0x2194c2+0x1]=_0x2094ff[_0x116d07(0x261)][_0x2194c2],_0x2194c2--;}_0x2094ff[_0x116d07(0x261)][_0x2194c2+0x1]=_0x525269;}else{while(_0x2194c2>=0x0&&_0x525269[0x0]<_0x2094ff['keys'][_0x2194c2][0x0]){_0x2194c2--;}_0x2194c2++,_0x2094ff[_0x116d07(0x242)][_0x2194c2][_0x116d07(0x261)][_0x116d07(0x23a)]===this[_0x116d07(0x244)]-0x1&&(this[_0x116d07(0x24f)](_0x2094ff,_0x2194c2),_0x525269[0x0]>_0x2094ff[_0x116d07(0x261)][_0x2194c2][0x0]&&_0x2194c2++),this[_0x116d07(0x22d)](_0x2094ff[_0x116d07(0x242)][_0x2194c2],_0x525269);}}[_0x1c5fb7(0x24f)](_0x536afe,_0x3d8083){const _0x3a4912=_0x1c5fb7;let _0x7b92fe=this[_0x3a4912(0x244)],_0x2d9088=_0x536afe[_0x3a4912(0x242)][_0x3d8083],_0x56c572=new BTreeNode(_0x2d9088[_0x3a4912(0x252)]);_0x536afe[_0x3a4912(0x261)]['splice'](_0x3d8083,0x0,_0x2d9088[_0x3a4912(0x261)][Math['floor'](_0x7b92fe/0x2)]),_0x536afe[_0x3a4912(0x242)]['splice'](_0x3d8083+0x1,0x0,_0x56c572),_0x56c572[_0x3a4912(0x261)]=_0x2d9088[_0x3a4912(0x261)]['splice'](Math['floor'](_0x7b92fe/0x2)+0x1),!_0x2d9088[_0x3a4912(0x252)]&&(_0x56c572[_0x3a4912(0x242)]=_0x2d9088[_0x3a4912(0x242)][_0x3a4912(0x224)](Math[_0x3a4912(0x1f5)](_0x7b92fe/0x2)+0x1));}[_0x1c5fb7(0x20c)](_0x2ed53a){const _0x1387c1=_0x1c5fb7;let _0x547592=[];for(let _0x21aae7=0x0;_0x21aae7<_0x2ed53a['keys'][_0x1387c1(0x23a)];_0x21aae7++){!_0x2ed53a[_0x1387c1(0x252)]&&(_0x547592=_0x547592[_0x1387c1(0x1ff)](this['traverse'](_0x2ed53a[_0x1387c1(0x242)][_0x21aae7]))),_0x547592['push'](_0x2ed53a[_0x1387c1(0x261)][_0x21aae7][0x1]);}return!_0x2ed53a['isLeaf']&&_0x2ed53a['children'][_0x1387c1(0x23a)]>_0x2ed53a[_0x1387c1(0x261)][_0x1387c1(0x23a)]&&(_0x547592=_0x547592[_0x1387c1(0x1ff)](this[_0x1387c1(0x20c)](_0x2ed53a[_0x1387c1(0x242)][_0x2ed53a['keys']['length']]))),_0x547592;}}class eveloDB{constructor(_0x121f3e={}){const _0xa92d7a=_0x1c5fb7;this[_0xa92d7a(0x214)]={...defaultConfig,..._0x121f3e};if(this[_0xa92d7a(0x214)][_0xa92d7a(0x232)]===_0xa92d7a(0x20d)&&this[_0xa92d7a(0x214)][_0xa92d7a(0x1fa)]&&this[_0xa92d7a(0x214)][_0xa92d7a(0x231)])throw new Error('BSON\x20encoding\x20does\x20not\x20support\x20encryption.\x20Please\x20set\x20\x22encryption\x22\x20and\x20\x22encryptionKey\x22\x20to\x20null\x20or\x20use\x20\x22json\x22\x20encoding.');this[_0xa92d7a(0x214)][_0xa92d7a(0x232)]==='bson'&&(!_0x121f3e[_0xa92d7a(0x245)]&&(this[_0xa92d7a(0x214)][_0xa92d7a(0x245)]='bson'),this[_0xa92d7a(0x214)][_0xa92d7a(0x1f9)]=0x0,this[_0xa92d7a(0x214)][_0xa92d7a(0x1fa)]=null,this[_0xa92d7a(0x214)][_0xa92d7a(0x231)]=null);if(this[_0xa92d7a(0x214)][_0xa92d7a(0x1fa)]){const _0x1546e9=this[_0xa92d7a(0x214)][_0xa92d7a(0x231)],_0x2607e0=this[_0xa92d7a(0x214)][_0xa92d7a(0x1fa)];if(!_0x1546e9)throw new Error(_0xa92d7a(0x239));const _0x54aea5={'aes-128-cbc':0x20,'aes-192-cbc':0x30,'aes-256-cbc':0x40,'aes-128-gcm':0x20,'aes-256-gcm':0x40},_0x1d0a64=_0x54aea5[_0x2607e0];if(!_0x1d0a64)throw new Error(_0xa92d7a(0x24c)+_0x2607e0);if(_0x1546e9[_0xa92d7a(0x23a)]!==_0x1d0a64)throw new Error(_0x2607e0[_0xa92d7a(0x25d)]()+'\x20requires\x20a\x20'+_0x1d0a64+'-character\x20hex\x20key\x20('+_0x1d0a64/0x2+_0xa92d7a(0x240));}this['btree']=new BTree(0x3),!fs[_0xa92d7a(0x219)](this[_0xa92d7a(0x214)]['directory'])&&fs[_0xa92d7a(0x25a)](this['config']['directory'],{'recursive':!![]});}[_0x1c5fb7(0x23d)](_0x46c472){const _0x558822=_0x1c5fb7;if(this['config'][_0x558822(0x232)]===_0x558822(0x20d))return _0x46c472;return encrypt(_0x46c472,this[_0x558822(0x214)][_0x558822(0x1fa)],this[_0x558822(0x214)]['encryptionKey']);}[_0x1c5fb7(0x23e)](_0x33d0d5){const _0x318983=_0x1c5fb7;if(this[_0x318983(0x214)][_0x318983(0x232)]===_0x318983(0x20d))return _0x33d0d5;return decrypt(_0x33d0d5,this[_0x318983(0x214)][_0x318983(0x1fa)],this[_0x318983(0x214)]['encryptionKey']);}[_0x1c5fb7(0x259)](_0x18d228){const _0x30aab7=_0x1c5fb7;if(this['config'][_0x30aab7(0x232)]===_0x30aab7(0x20d)){const _0x318222={'db':_0x18d228};return BSON[_0x30aab7(0x207)](_0x318222);}if(this[_0x30aab7(0x214)]['encode']===_0x30aab7(0x221))return JSON[_0x30aab7(0x220)](_0x18d228,null,this[_0x30aab7(0x214)][_0x30aab7(0x1f9)]);return JSON[_0x30aab7(0x220)](_0x18d228,null,this[_0x30aab7(0x214)][_0x30aab7(0x1f9)]);}[_0x1c5fb7(0x20a)](_0x1f0d38){const _0x23e0fa=_0x1c5fb7;if(this[_0x23e0fa(0x214)][_0x23e0fa(0x232)]==='bson'){const {db:_0x8ab812}=BSON['deserialize'](_0x1f0d38);return _0x8ab812;}if(this[_0x23e0fa(0x214)][_0x23e0fa(0x232)]===_0x23e0fa(0x221))return JSON['parse'](_0x1f0d38);return JSON[_0x23e0fa(0x25c)](_0x1f0d38);}['readFileData'](_0x42687b){const _0xcb58a1=_0x1c5fb7,_0x30f078=this['config'][_0xcb58a1(0x232)]===_0xcb58a1(0x20d)?fs[_0xcb58a1(0x1fc)](_0x42687b):fs['readFileSync'](_0x42687b,_0xcb58a1(0x23c)),_0x5bbfd4=this[_0xcb58a1(0x214)][_0xcb58a1(0x1fa)]?this[_0xcb58a1(0x23e)](_0x30f078):this[_0xcb58a1(0x20a)](_0x30f078);return _0x5bbfd4;}[_0x1c5fb7(0x249)](_0x1330b0,_0x15bdc7){const _0x23007f=_0x1c5fb7,_0x242912=this['config'][_0x23007f(0x1fa)]?this['encrypt'](_0x15bdc7):this['encodeData'](_0x15bdc7);return fs[_0x23007f(0x23b)](_0x1330b0,_0x242912),!![];}[_0x1c5fb7(0x246)](_0x4d21b1){return generateKey(_0x4d21b1);}['getFilePath'](_0x3f197f){const _0x5ee253=_0x1c5fb7;return this['config']['directory']+'/'+_0x3f197f+'.'+this[_0x5ee253(0x214)]['extension'];}['create'](_0x41346c,_0x269427){const _0x520f90=_0x1c5fb7;if(!_0x41346c)return{'err':_0x520f90(0x1f6)};if(!_0x269427||typeof _0x269427!==_0x520f90(0x22b))return{'err':_0x520f90(0x24b)};const _0x6e223c=this['getFilePath'](_0x41346c);let _0x40ac38=[];if(fs['existsSync'](_0x6e223c)){_0x40ac38=this[_0x520f90(0x229)](_0x6e223c);if(this[_0x520f90(0x214)]['noRepeat']){const _0x52f0ab=_0x40ac38[_0x520f90(0x21d)](_0x5ddd31=>{const _0x48c7dc=_0x520f90;return Object['keys'](_0x269427)[_0x48c7dc(0x24e)](_0x29c103=>{const _0x46f739=_0x48c7dc;if(_0x29c103===_0x46f739(0x255))return!![];return deepCompare(_0x5ddd31[_0x29c103],_0x269427[_0x29c103]);})&&Object[_0x48c7dc(0x261)](_0x269427)[_0x48c7dc(0x24e)](_0xce4ace=>_0xce4ace in _0x5ddd31);});if(_0x52f0ab)return{'err':_0x520f90(0x201),'code':'DUPLICATE_DATA'};}}const _0x5d33b9={..._0x269427};return this[_0x520f90(0x214)][_0x520f90(0x204)]&&(_0x5d33b9[_0x520f90(0x255)]=this[_0x520f90(0x1f2)]()),_0x40ac38['push'](_0x5d33b9),this['writeFileData'](_0x6e223c,_0x40ac38),_0x5d33b9[_0x520f90(0x227)]&&this[_0x520f90(0x233)][_0x520f90(0x22e)](_0x5d33b9[_0x520f90(0x227)],_0x5d33b9),{'success':!![],...this[_0x520f90(0x214)][_0x520f90(0x204)]&&{'__id':_0x5d33b9['__id']}};}['delete'](_0x3278d8,_0xb987f0){const _0x87877d=_0x1c5fb7;if(!_0x3278d8)return{'err':_0x87877d(0x1f3)};if(!_0xb987f0)return{'err':_0x87877d(0x1f7)};const _0xcc2871=this[_0x87877d(0x211)](_0x3278d8);if(!fs['existsSync'](_0xcc2871))return{'err':0x194};let _0x5be3b8=this[_0x87877d(0x229)](_0xcc2871);const _0x169deb=_0x5be3b8[_0x87877d(0x208)](_0x440479=>{const _0x5d2bf3=_0x87877d;return!Object[_0x5d2bf3(0x209)](_0xb987f0)[_0x5d2bf3(0x24e)](([_0x24ca5b,_0x305caf])=>{const _0x107473=_0x5d2bf3;return typeof _0x305caf===_0x107473(0x22b)?deepCompare(_0x440479[_0x24ca5b],_0x305caf):_0x440479[_0x24ca5b]===_0x305caf;});});return this[_0x87877d(0x249)](_0xcc2871,_0x169deb),{'success':!![]};}[_0x1c5fb7(0x236)](_0x15e3c1,_0x44b6e1){const _0x82519a=_0x1c5fb7;if(!_0x15e3c1)return{'err':_0x82519a(0x1f3)};if(!_0x44b6e1)return{'err':_0x82519a(0x21c)};const _0x41288b=this[_0x82519a(0x211)](_0x15e3c1);return this['writeFileData'](_0x41288b,_0x44b6e1),{'success':!![]};}[_0x1c5fb7(0x24a)](_0x5b6137,_0x579156){const _0x37fcc6=_0x1c5fb7;if(!_0x5b6137)return{'err':_0x37fcc6(0x1f3)};if(!_0x579156)return{'err':'conditions\x20required!'};const _0x137abc=this['getFilePath'](_0x5b6137);if(!fs[_0x37fcc6(0x219)](_0x137abc))return{'err':0x194};let _0x22c34b=this[_0x37fcc6(0x229)](_0x137abc);return _0x22c34b[_0x37fcc6(0x208)](_0x2b4f93=>{const _0x3da612=_0x37fcc6;return Object[_0x3da612(0x209)](_0x579156)[_0x3da612(0x24e)](([_0x501f58,_0xeea0ce])=>_0x2b4f93[_0x501f58]===_0xeea0ce);});}[_0x1c5fb7(0x21e)](_0x102135,_0x7b5af7){const _0x3286bb=_0x1c5fb7;if(!_0x102135)return{'err':_0x3286bb(0x1f3)};if(!_0x7b5af7)return{'err':_0x3286bb(0x1f7)};const _0x538e82=this[_0x3286bb(0x211)](_0x102135);if(!fs[_0x3286bb(0x219)](_0x538e82))return{'err':0x194};let _0x148721=this['readFileData'](_0x538e82);return _0x148721['find'](_0x2008c9=>{const _0x1205d4=_0x3286bb;return Object[_0x1205d4(0x209)](_0x7b5af7)[_0x1205d4(0x24e)](([_0x2a0792,_0x1ef22b])=>_0x2008c9[_0x2a0792]===_0x1ef22b);})||null;}[_0x1c5fb7(0x225)](_0x55df13,_0x369bc7){const _0x188926=_0x1c5fb7;if(!_0x55df13)return{'err':'collection\x20required!'};if(!_0x369bc7)return{'err':'conditions\x20required!'};const _0x3ff575=this[_0x188926(0x211)](_0x55df13);if(!fs['existsSync'](_0x3ff575))return{'err':0x194};let _0x5bdfc4=this['readFileData'](_0x3ff575);return _0x5bdfc4[_0x188926(0x208)](_0x2ff0b5=>{const _0x5a0bb9=_0x188926;return Object[_0x5a0bb9(0x209)](_0x369bc7)[_0x5a0bb9(0x24e)](([_0x5ba628,_0x470fdb])=>{const _0x11f5bc=_0x5a0bb9;if(_0x2ff0b5[_0x5ba628]!==undefined&&_0x2ff0b5[_0x5ba628]!==null)return _0x2ff0b5[_0x5ba628][_0x11f5bc(0x20e)]()[_0x11f5bc(0x23f)](new RegExp(_0x470fdb,'i'));return![];});});}[_0x1c5fb7(0x22c)](_0x1cc920){const _0xee2321=_0x1c5fb7;if(!_0x1cc920)return{'err':_0xee2321(0x1f3)};const _0x12e703=this['getFilePath'](_0x1cc920);if(!fs[_0xee2321(0x219)](_0x12e703))return{'err':0x194};return this[_0xee2321(0x229)](_0x12e703);}[_0x1c5fb7(0x210)](_0x959b1d,_0x5e03e7){const _0x3fb1dd=_0x1c5fb7;if(!_0x959b1d)return{'err':_0x3fb1dd(0x1f3)};if(!_0x5e03e7)return{'err':_0x3fb1dd(0x1f7)};return this[_0x3fb1dd(0x24a)](_0x959b1d,_0x5e03e7)[_0x3fb1dd(0x23a)]>0x0;}['edit'](_0x403388,_0x550ca6,_0x190e5){const _0x5c20b8=_0x1c5fb7;if(!_0x403388)return{'err':_0x5c20b8(0x1f6)};if(!_0x550ca6)return{'err':_0x5c20b8(0x241)};if(!_0x190e5)return{'err':_0x5c20b8(0x24d)};const _0x2b4bf0=this[_0x5c20b8(0x211)](_0x403388);if(!fs[_0x5c20b8(0x219)](_0x2b4bf0))return{'err':_0x5c20b8(0x258),'code':0x194};let _0x5d3388=this['readFileData'](_0x2b4bf0),_0x536af0=0x0,_0x5216d3=![];const _0x4b2840=_0x5d3388[_0x5c20b8(0x247)](_0x90ddcf=>{const _0x1eb975=_0x5c20b8;if(Object['entries'](_0x550ca6)['every'](([_0x1ed3b4,_0x3d6ed0])=>{return _0x90ddcf[_0x1ed3b4]===_0x3d6ed0||deepCompare(_0x90ddcf[_0x1ed3b4],_0x3d6ed0);})){const _0x65a3f6={..._0x90ddcf,..._0x190e5};if(this['config'][_0x1eb975(0x20b)]){const _0x8416a5=_0x5d3388[_0x1eb975(0x21d)](_0x4231b8=>{const _0x4dc762=_0x1eb975;if(_0x4231b8[_0x4dc762(0x255)]&&_0x90ddcf['__id']&&_0x4231b8[_0x4dc762(0x255)]===_0x90ddcf[_0x4dc762(0x255)])return![];return Object[_0x4dc762(0x261)](_0x190e5)[_0x4dc762(0x24e)](_0x476fd4=>{const _0x1158d7=_0x4dc762;if(_0x476fd4===_0x1158d7(0x255))return![];return deepCompare(_0x4231b8[_0x476fd4],_0x65a3f6[_0x476fd4]);});});if(_0x8416a5)return _0x5216d3=!![],_0x90ddcf;}return _0x536af0++,_0x65a3f6;}return _0x90ddcf;});if(_0x5216d3)return{'err':'Edit\x20would\x20create\x20duplicate\x20data\x20(noRepeat\x20enabled)','code':_0x5c20b8(0x223)};if(_0x536af0===0x0)return{'err':_0x5c20b8(0x228),'code':'NO_MATCH'};return this[_0x5c20b8(0x249)](_0x2b4bf0,_0x4b2840),{'success':!![],'modifiedCount':_0x536af0};}[_0x1c5fb7(0x1fe)](_0x297348){const _0x36c7e3=_0x1c5fb7;if(!_0x297348)return{'err':_0x36c7e3(0x1f3)};const _0x5eb5b1=this[_0x36c7e3(0x211)](_0x297348);return fs[_0x36c7e3(0x219)](_0x5eb5b1)?(fs[_0x36c7e3(0x253)](_0x5eb5b1),{'success':!![]}):{'err':0x194};}[_0x1c5fb7(0x20f)](_0x9dd4ec){const _0x25d78d=_0x1c5fb7;return this[_0x25d78d(0x1fe)](_0x9dd4ec);}['changeConfig']({from:_0xa7a763,to:_0x1280c8,collections:_0x368b6e}){const _0x504a2a=_0x1c5fb7;if(this['config'][_0x504a2a(0x232)]!==_0x504a2a(0x221)&&(_0xa7a763['encryption']||_0xa7a763[_0x504a2a(0x231)]||_0x1280c8[_0x504a2a(0x1fa)]||_0x1280c8[_0x504a2a(0x231)]))throw new Error(_0x504a2a(0x205));const _0x2818bd=require(_0x504a2a(0x257)),_0x179bec=fs[_0x504a2a(0x1f8)](_0xa7a763[_0x504a2a(0x251)]||this[_0x504a2a(0x214)][_0x504a2a(0x251)]),{encrypt:_0x3716c0,decrypt:_0x5bc1fb}=require(_0x504a2a(0x243)),_0xf4d2f8={'aes-128-cbc':0x20,'aes-192-cbc':0x30,'aes-256-cbc':0x40,'aes-128-gcm':0x20,'aes-256-gcm':0x40},_0xb0a378=(_0x367762,_0xb5cc1f)=>{const _0x39fa06=_0x504a2a;if(!_0xb5cc1f)return;if(!_0x367762||_0x367762[_0x39fa06(0x23a)]!==_0xf4d2f8[_0xb5cc1f])throw new Error(_0xb5cc1f+_0x39fa06(0x235)+_0xf4d2f8[_0xb5cc1f]+_0x39fa06(0x1fd));};_0xb0a378(_0xa7a763[_0x504a2a(0x231)],_0xa7a763[_0x504a2a(0x1fa)]),_0xb0a378(_0x1280c8[_0x504a2a(0x231)],_0x1280c8['encryption']);let _0x2ae42f=0x0,_0x5f5dce=0x0;const _0xfbedd=_0xa7a763[_0x504a2a(0x245)]||this[_0x504a2a(0x214)][_0x504a2a(0x245)],_0x56522d=_0x1280c8[_0x504a2a(0x245)]||this[_0x504a2a(0x214)][_0x504a2a(0x245)],_0x1d3b7c=_0xa7a763[_0x504a2a(0x251)]||this[_0x504a2a(0x214)][_0x504a2a(0x251)],_0xe7fbf3=_0x1280c8[_0x504a2a(0x251)]||this[_0x504a2a(0x214)][_0x504a2a(0x251)];!fs[_0x504a2a(0x219)](_0xe7fbf3)&&fs[_0x504a2a(0x25a)](_0xe7fbf3,{'recursive':!![]});_0x179bec[_0x504a2a(0x1fb)](_0x594d9a=>{const _0x2f2e92=_0x504a2a,_0x5bb92c=_0x2818bd[_0x2f2e92(0x260)](_0x594d9a)[_0x2f2e92(0x222)](0x1),_0x45e3d4=_0x2818bd[_0x2f2e92(0x213)](_0x594d9a,'.'+_0x5bb92c);if(_0x5bb92c!==_0xfbedd)return;if(_0x368b6e&&!_0x368b6e[_0x2f2e92(0x218)](_0x45e3d4))return;const _0xd60633=_0x2818bd['join'](_0x1d3b7c,_0x594d9a),_0x3a50b6=_0x2818bd[_0x2f2e92(0x230)](_0xe7fbf3,_0x45e3d4+'.'+_0x56522d);try{const _0x51a7e1=fs['readFileSync'](_0xd60633,'utf8'),_0x1d5038=_0xa7a763[_0x2f2e92(0x1fa)]?_0x5bc1fb(_0x51a7e1,_0xa7a763[_0x2f2e92(0x1fa)],_0xa7a763[_0x2f2e92(0x231)]):JSON[_0x2f2e92(0x25c)](_0x51a7e1),_0x137339=_0x1280c8['encryption']?_0x3716c0(_0x1d5038,_0x1280c8[_0x2f2e92(0x1fa)],_0x1280c8[_0x2f2e92(0x231)]):JSON[_0x2f2e92(0x220)](_0x1d5038,null,0x3);fs['writeFileSync'](_0x3a50b6,_0x137339),_0x2ae42f++,_0xd60633!==_0x3a50b6&&fs[_0x2f2e92(0x219)](_0xd60633)&&fs[_0x2f2e92(0x253)](_0xd60633);}catch(_0x1c3f65){console[_0x2f2e92(0x25f)](_0x2f2e92(0x21f)+_0x594d9a+':\x20'+_0x1c3f65[_0x2f2e92(0x226)]),_0x5f5dce++;}});if(_0x1d3b7c!==_0xe7fbf3&&fs[_0x504a2a(0x219)](_0x1d3b7c)){const _0x4a1e4f=fs[_0x504a2a(0x1f8)](_0x1d3b7c);_0x4a1e4f['length']===0x0&&fs[_0x504a2a(0x21b)](_0x1d3b7c,{'recursive':!![]});}return{'success':!![],'converted':_0x2ae42f,'failed':_0x5f5dce};}['rebuildBTree'](_0x3d8383){const _0x8cea84=_0x1c5fb7;if(!_0x3d8383)return{'err':_0x8cea84(0x1f3)};const _0x594b94=this[_0x8cea84(0x211)](_0x3d8383);if(!fs[_0x8cea84(0x219)](_0x594b94))return{'err':0x194};let _0x2b5e5a=this[_0x8cea84(0x229)](_0x594b94);this[_0x8cea84(0x233)]=new BTree(0x3),_0x2b5e5a[_0x8cea84(0x1fb)](_0x5cc27b=>{const _0xd57962=_0x8cea84;_0x5cc27b[_0xd57962(0x227)]?this[_0xd57962(0x233)][_0xd57962(0x22e)](_0x5cc27b[_0xd57962(0x227)],_0x5cc27b):console[_0xd57962(0x25f)](_0xd57962(0x216),_0x5cc27b);});}[_0x1c5fb7(0x212)](){const _0x38d062=_0x1c5fb7;return this[_0x38d062(0x233)][_0x38d062(0x20c)](this[_0x38d062(0x233)][_0x38d062(0x200)]);}[_0x1c5fb7(0x1f2)](){const _0x8d09a7=_0x1c5fb7;if(this[_0x8d09a7(0x214)][_0x8d09a7(0x232)]==='bson')return new ObjectId();const _0x280d4d=Date[_0x8d09a7(0x215)]()[_0x8d09a7(0x20e)](0x24),_0x295edd=Math[_0x8d09a7(0x250)]()[_0x8d09a7(0x20e)](0x24)[_0x8d09a7(0x237)](0x2,0x8);return _0x280d4d+'-'+_0x295edd;}}module['exports']=eveloDB;